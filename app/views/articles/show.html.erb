<div id="notice" class="alert alert-warning alert-dismissible fade show" role="alert" style="display:none;">
  <button type="button" class="close" aria-label="Close">
    <span aria-hidden="true">&times;</span>
  </button>
  <div class="message">Error saving your reaction.</div>
</div>
<div class="card mb-4">
  <div class="card-body">
    <h4 class=""><%= @article.title %></h4>
    <p class="mb-2">
      <%= @article.abstract %>
    </p>
    <p class="small mb-0">
      Published <%= local_time(@article.published_date) %> <%= @article.author %>
    </p>
    <p class="small mb-0">
      <%= icon('link') %> <%= link_to(@article.url, @article.url, target: 'blank') %>
    </p>
  </div>
</div>
<div class="mb-4">
  <% if @article.reactions.emojis.any? %>
    <%= render 'reactions/remoji', emojis: @article.reactions.emojis %>
  <% end %>
</div>
<div class="pb-5" id="comments_list">
<% if @article.reactions.comments.any? %>
    <% @article.reactions.comments.each do |reaction| %>
      <%= render reaction %>
    <% end %>
<% end %>
</div>
<% content_for(:header) do %>
<nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top navbar-light bg-light app-navbar">
  <a class="navbar-brand" href="/">Reactions</a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarText" aria-controls="navbarText" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbarText">
    <ul class="navbar-nav mr-auto">
      <li class="nav-item">
        <%= button_to '😀', react_article_reactions_url(@article), params: { reaction: { content: 'happy' } },
          method: :patch, class: 'nav-link btn btn-outline-secondary' %>
      </li>
      <li class="nav-item">
        <%= button_to '😂', react_article_reactions_url(@article), params: { reaction: { content: 'lol' } },
          method: :patch, class: 'nav-link btn btn-outline-secondary' %>
      </li>
      <li class="nav-item">
        <%= button_to '😒', react_article_reactions_url(@article), params: { reaction: { content: 'unamused' } },
          method: :patch, class: 'nav-link btn btn-outline-secondary' %>
      </li>
      <li class="nav-item">
        <%= button_to '😱', react_article_reactions_url(@article), params: { reaction: { content: 'fear' } },
          method: :patch, class: 'nav-link btn btn-outline-secondary' %>
      </li>
      <li class="nav-item">
        <%= button_to '👋', react_article_reactions_url(@article), params: { reaction: { content: 'wave' } },
          method: :patch, class: 'nav-link btn btn-outline-secondary' %>
      </li>
      <li class="nav-item">
        <%= button_to '🙏', react_article_reactions_url(@article), params: { reaction: { content: 'prayer' } },
          method: :patch, class: 'nav-link btn btn-outline-secondary' %>
      </li>
      <li class="nav-item">
        <%= button_to '👍', react_article_reactions_url(@article), params: { reaction: { content: 'thumbs_up' } },
          method: :patch, class: 'nav-link btn btn-outline-secondary' %>
      </li>
      <li class="nav-item">
        <%= button_to '👎', react_article_reactions_url(@article), params: { reaction: { content: 'thumbs_down' } },
          method: :patch, class: 'nav-link btn btn-outline-secondary' %>
      </li>
      <li class="nav-item">
        <%= button_to '❤️', react_article_reactions_url(@article), params: { reaction: { content: 'heart' } },
          method: :patch, class: 'nav-link btn btn-outline-secondary' %>
      </li>
      <li class="nav-item">
        <%= button_to '🎉', react_article_reactions_url(@article), params: { reaction: { content: 'hooray' } },
          method: :patch, class: 'nav-link btn btn-outline-secondary' %>
      </li>
    </ul>
    <%= form_with(url: article_reactions_path(@article), scope: :reaction,
      class: 'form-inline my-2 my-lg-0') do |form| %>
      <%= form.text_field :content, class: 'form-control mr-sm-2',
        placeholder: 'Your reaction...', id: 'comment-input' %>
      <%= form.submit 'Submit', class: 'btn btn-outline-success my-2 my-sm-0' %>
    <% end %>
  </div>
</nav>
<% end %>
